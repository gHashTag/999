# üïâÔ∏è –ü—Ä–æ–µ–∫—Ç 999: –ê—Ä–º–∏—è –ê–≤—Ç–æ–Ω–æ–º–Ω—ã—Ö –ù–µ–π—Ä–æ–ö–æ–¥–µ—Ä–æ–≤

# üïâÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ê–≥–µ–Ω—Ç–æ–≤ –∏ –ü—Ä–∞–≤–∏–ª–∞ –ü—Ä–æ–µ–∫—Ç–∞

**üìç –í–∞–∂–Ω–æ: –•—Ä–∞–Ω–∏–ª–∏—â–µ –ü—Ä–∞–≤–∏–ª**

> **–í—Å–µ –ø—Ä–∞–≤–∏–ª–∞ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –ø–æ–¥—Ä–æ–±–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∞–≥–µ–Ω—Ç–∞ —Ö—Ä–∞–Ω—è—Ç—Å—è –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `.cursor/rules/` –≤ –≤–∏–¥–µ —Ñ–∞–π–ª–æ–≤ `.mdc`. –≠—Ç–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è ‚Äì –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã –¥–ª—è –î—Ö–∞—Ä–º—ã –ø—Ä–æ–µ–∫—Ç–∞. `README.mdc` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π –æ–±–∑–æ—Ä –∏ —Å—Å—ã–ª–∫–∏ –Ω–∞ —ç—Ç–∏ —Ñ–∞–π–ª—ã.**

---

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç –≤—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –∞–≥–µ–Ω—Ç–æ–≤, –∏—Ö —Ä–æ–ª–∏, –∑–æ–Ω—ã –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∏ —Å–≤—è–∑—å —Å –æ—Å–Ω–æ–≤–Ω—ã–º–∏ –ø—Ä–∞–≤–∏–ª–∞–º–∏ (–î—Ö–∞—Ä–º–æ–π) –ø—Ä–æ–µ–∫—Ç–∞. –°–∞–º–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∞–≥–µ–Ω—Ç–∞ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö `AGENT_*.mdc` —Ñ–∞–π–ª–∞—Ö.

## üéØ –¢–µ–∫—É—â–∞—è –ó–∞–¥–∞—á–∞

–î–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è —Ç–µ–∫—É—â–µ–π —Ü–µ–ª–∏ –∏ —ç—Ç–∞–ø–∞ —Ä–∞–±–æ—Ç —Å–º–æ—Ç—Ä–∏: [`current_task.mdc`](mdc:current_task.mdc).

## üìÇ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–∫—Ä–∏–ø—Ç–æ–≤

–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —Å–∫—Ä–∏–ø—Ç–∞–º –ø—Ä–æ–µ–∫—Ç–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ —Ñ–∞–π–ª–µ [`scripts/README.md`](scripts/README.md).

## üßò‚Äç‚ôÇÔ∏è –û—Å–Ω–æ–≤–Ω—ã–µ –ê–≥–µ–Ω—Ç—ã

## üìú –û–±—â–∏–µ –ü—Ä–∞–≤–∏–ª–∞ –∏ –ü—Ä–∏–Ω—Ü–∏–ø—ã

–ü–æ–º–∏–º–æ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π –¥–ª—è –∞–≥–µ–Ω—Ç–æ–≤, —Å—É—â–µ—Å—Ç–≤—É—é—Ç –æ–±—â–∏–µ –ø—Ä–∞–≤–∏–ª–∞, –∫–æ—Ç–æ—Ä—ã–º –¥–æ–ª–∂–Ω—ã —Å–ª–µ–¥–æ–≤–∞—Ç—å –≤—Å–µ (–≤–∫–ª—é—á–∞—è –ì—É—Ä—É –∏ –±—É–¥—É—â–∏—Ö –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–µ–π):

- **TDD:** –ù–µ—É–∫–æ—Å–Ω–∏—Ç–µ–ª—å–Ω–æ–µ —Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —Ü–∏–∫–ª—É "–ö—Ä–∞—Å–Ω—ã–π -> –ó–µ–ª–µ–Ω—ã–π -> –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥".
- **–ê–≤—Ç–æ–Ω–æ–º–Ω–æ—Å—Ç—å:** –ê–≥–µ–Ω—Ç—ã —Å—Ç—Ä–µ–º—è—Ç—Å—è —Ä–µ—à–∞—Ç—å –∑–∞–¥–∞—á–∏ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ, –æ–±—Ä–∞—â–∞—è—Å—å –∫ –ì—É—Ä—É —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.
- **–°—Ç–∏–ª—å –∏ –ü–∞—Ç—Ç–µ—Ä–Ω—ã:** –°–ª–µ–¥–æ–≤–∞–Ω–∏–µ –µ–¥–∏–Ω–æ–º—É —Å—Ç–∏–ª—é –∫–æ–¥–∞ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤.
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –û—Ç–ª–∞–¥–∫–∞:** –ò—Å–ø–æ–ª—å–∑—É–π –∫–æ–º–∞–Ω–¥—É `bun test` –∏ —Å–ª–µ–¥—É–π —Ä–∏—Ç—É–∞–ª—É, –æ–ø–∏—Å–∞–Ω–Ω–æ–º—É –≤ @`testing-workflow.mdc`.
- **Git Workflow:** –†–∞–±–æ—Ç–∞ —á–µ—Ä–µ–∑ feature-–≤–µ—Ç–∫–∏ –∏ Pull Request'—ã.

–≠—Ç–∏ –ø—Ä–∏–Ω—Ü–∏–ø—ã –±—ã–ª–∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã –≤ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –∞–≥–µ–Ω—Ç–æ–≤.

## üïâÔ∏è –†–∏—Ç—É–∞–ª TDD —Å –ü–æ–º–æ—â–Ω–∏–∫–æ–º (`scripts/tdd-cycle.sh`)

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏ —Ä—É—á–Ω–æ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ TDD-—Ü–∏–∫–ª–∞ –ª–µ–≥–∫–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –≤–∞–∂–Ω—ã–µ —à–∞–≥–∏, —Ç–∞–∫–∏–µ –∫–∞–∫ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ (`tsc`) –ø–µ—Ä–µ–¥ —Ç–µ—Å—Ç–∞–º–∏ –∏–ª–∏ –∑–∞–±—ã—Ç—å –∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã –ø–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞. –≠—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏—é –æ—à–∏–±–æ–∫, "—Å–ª–æ–º–∞–Ω–Ω—ã–º" –∫–æ–º–º–∏—Ç–∞–º –∏ –±–æ–ª–µ–∑–Ω–µ–Ω–Ω—ã–º —Ä–µ–≥—Ä–µ—Å—Å–∏—è–º, –∫–æ–≥–¥–∞ –Ω–æ–≤–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ª–æ–º–∞–µ—Ç —Å—Ç–∞—Ä—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å. –í—Ä–µ–º—è —Ç—Ä–∞—Ç–∏—Ç—Å—è –Ω–∞ –æ—Ç–ª–∞–¥–∫—É –ø—Ä–æ–±–ª–µ–º, –∫–æ—Ç–æ—Ä—ã—Ö –º–æ–∂–Ω–æ –±—ã–ª–æ –∏–∑–±–µ–∂–∞—Ç—å.

**–†–µ—à–µ–Ω–∏–µ (–î—Ö–∞—Ä–º–∞):** –ß—Ç–æ–±—ã –æ–±–µ—Å–ø–µ—á–∏—Ç—å —á–∏—Å—Ç–æ—Ç—É –∫–æ–¥–∞, –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å —Ä–µ–≥—Ä–µ—Å—Å–∏–∏ –∏ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö —à–∞–≥–æ–≤ TDD, **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û** –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∫—Ä–∏–ø—Ç-–ø–æ–º–æ—â–Ω–∏–∫ `scripts/tdd-cycle.sh` –¥–ª—è **–ö–ê–ñ–î–û–ì–û** —Ü–∏–∫–ª–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, –≤–∫–ª—é—á–∞—é—â–µ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Ñ–∞–π–ª–∞.

**–ö–∞–∫ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**

1.  –ù–∞–ø–∏—à–∏—Ç–µ –ø–∞–¥–∞—é—â–∏–π —Ç–µ—Å—Ç (üî¥) –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–º —Ñ–∞–π–ª–µ (`src/__tests__/...`).
2.  –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç:
    ```bash
    bash scripts/tdd-cycle.sh <–ø—É—Ç—å_–∫_–≤–∞—à–µ–º—É_—Ç–µ—Å—Ç–æ–≤–æ–º—É_—Ñ–∞–π–ª—É>
    ```
3.  –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º —Å–∫—Ä–∏–ø—Ç–∞:
    - –û–Ω –ø—Ä–æ–≤–µ—Ä–∏—Ç —Ç–∏–ø—ã –∏ —É–±–µ–¥–∏—Ç—Å—è, —á—Ç–æ —Ç–µ—Å—Ç –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –ø–∞–¥–∞–µ—Ç (üî¥).
    - –ü–æ—Å–ª–µ –Ω–∞–ø–∏—Å–∞–Ω–∏—è –∫–æ–¥–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –æ–Ω –±—É–¥–µ—Ç –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Ç–∏–ø—ã –∏ –∑–∞–ø—É—Å–∫–∞—Ç—å —Ç–µ—Å—Ç –¥–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞ –æ–Ω –Ω–µ –ø—Ä–æ–π–¥–µ—Ç (üü¢).
    - –ü–æ—Å–ª–µ —ç—Ç–∞–ø–∞ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –æ–Ω —Å–Ω–æ–≤–∞ –ø—Ä–æ–≤–µ—Ä–∏—Ç —Ç–∏–ø—ã –∏ —É–±–µ–¥–∏—Ç—Å—è, —á—Ç–æ —Ç–µ—Å—Ç –≤—Å–µ –µ—â–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç (‚ôªÔ∏è).
4.  **–¢–æ–ª—å–∫–æ –ø–æ—Å–ª–µ** —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–∞ –º–æ–∂–Ω–æ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –∫ –∫–æ–º–º–∏—Ç—É –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ (`current_task.mdc`, `SUCCESS_HISTORY.md`, `REGRESSION_PATTERNS.md`).

**–£–ª—É—á—à–µ–Ω–∏–µ –°–∫—Ä–∏–ø—Ç–∞:** –°–∫—Ä–∏–ø—Ç –º–æ–∂–Ω–æ –∏ –Ω—É–∂–Ω–æ —É–ª—É—á—à–∞—Ç—å –ø–æ –º–µ—Ä–µ –≤—ã—è–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö –∫—Ä–∞–µ–≤—ã—Ö —Å–ª—É—á–∞–µ–≤ –∏–ª–∏ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–µ–π –≤ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏.

_–û–º –®–∞–Ω—Ç–∏. –°–ª–µ–¥—É–π —Ä–∏—Ç—É–∞–ª—É, –∏ –∫–æ–¥ —Ç–≤–æ–π –±—É–¥–µ—Ç —á–∏—Å—Ç –∏ —Å—Ç–∞–±–∏–ª–µ–Ω._ üôè

## üíæ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –°–æ—Å—Ç–æ—è–Ω–∏–µ–º (State Management)

## üìú –û–±—â–∏–µ –ü—Ä–∞–≤–∏–ª–∞ –∏ –ü—Ä–∏–Ω—Ü–∏–ø—ã

## ‚öôÔ∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –û–∫—Ä—É–∂–µ–Ω–∏–µ–º –†–∞–∑—Ä–∞–±–æ—Ç–∫–∏

–î–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã –∞–≥–µ–Ω—Ç–æ–≤ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ–æ–Ω–æ–≤—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤.

### –•—Ä–∞–Ω–µ–Ω–∏–µ —Ç–∏–ø–æ–≤

–í—Å–µ —Ñ–∞–π–ª—ã —Å —Ç–∏–ø–∞–º–∏ (*.d.ts, *type\*.ts) –¥–æ–ª–∂–Ω—ã –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è—Ö `src/types` –∏–ª–∏ `vendor-types`. –≠—Ç–æ —Å–ø–æ—Å–æ–±—Å—Ç–≤—É–µ—Ç:

- –†–∞–∑–¥–µ–ª–µ–Ω–∏—é —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∏ –≤–µ–Ω–¥–æ—Ä–Ω—ã—Ö —Ç–∏–ø–æ–≤
- –ï–¥–∏–Ω–æ–π —Ç–æ—á–∫–µ –∏—Å—Ç–∏–Ω—ã –¥–ª—è —Ç–∏–ø–æ–≤
- –£–ø—Ä–æ—â–µ–Ω–∏—é –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—é —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ: `./scripts/type-location-checker.sh`

### –ó–∞–ø—É—Å–∫ –û–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ê–≥–µ–Ω—Ç–æ–≤ (–†—É—á–Ω–æ–π —Ä–µ–∂–∏–º)

–í–º–µ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è PM2 –∏–ª–∏ —Å–ª–æ–∂–Ω—ã—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤, –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã –≤–æ –≤—Ä–µ–º—è —Å–æ–≤–º–µ—Å—Ç–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–º —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∑–∞–ø—É—Å–∫–∞—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ñ–æ–Ω–æ–≤—ã–µ —Å–µ—Ä–≤–∏—Å—ã –≤—Ä—É—á–Ω—É—é –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –æ–∫–Ω–∞—Ö —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ **—Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `bun`**:

1.  **–û–∫–Ω–æ 1: –ö–æ–º–ø–∏–ª—è—Ü–∏—è TypeScript (Watch Mode)**

    ```bash
    bun run build:watch
    ```

    - **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ó–∞–ø—É—Å–∫–∞–µ—Ç `tsc --watch --preserveWatchOutput`. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç `.ts` —Ñ–∞–π–ª—ã –≤ `dist/` –ø—Ä–∏ –∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–∏.

2.  **–û–∫–Ω–æ 2: Inngest Dev Server**

    ```bash
    bun run dev:serve
    ```

    - **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ó–∞–ø—É—Å–∫–∞–µ—Ç `inngest-cli dev`. –°–ª—É—à–∞–µ—Ç —Å–æ–±—ã—Ç–∏—è –Ω–∞ `http://localhost:8288`, –Ω–∞—Ö–æ–¥–∏—Ç –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏–∏ Inngest –∏–∑ —Ä–∞–±–æ—Ç–∞—é—â–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–ø–æ–¥–∫–ª—é—á–∞—è—Å—å –∫ –Ω–µ–º—É –ø–æ URL, —É–∫–∞–∑–∞–Ω–Ω–æ–º—É –≤ –∫–æ–º–∞–Ω–¥–µ, –æ–±—ã—á–Ω–æ `http://localhost:8484/api/inngest`).

3.  **–û–∫–Ω–æ 3: –°–µ—Ä–≤–µ—Ä –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è**
    ```bash
    bun run dev:start
    ```
    - **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ó–∞–ø—É—Å–∫–∞–µ—Ç –æ—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–µ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π –æ–±—Å–ª—É–∂–∏–≤–∞–µ—Ç API –¥–ª—è Inngest (`/api/inngest`) –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∫–æ–¥ —Ñ—É–Ω–∫—Ü–∏–π/–∞–≥–µ–Ω—Ç–æ–≤. –ü—ã—Ç–∞–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ—Ä—Ç 8484.

**–ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ä–∞–±–æ—Ç—ã —Å AI:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ —Ç—Ä–∏ –∫–æ–º–∞–Ω–¥—ã —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω—ã –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –æ–∫–Ω–∞—Ö –∏ —Ä–∞–±–æ—Ç–∞—é—Ç –±–µ–∑ –æ—à–∏–±–æ–∫.

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ PM2 (–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ –¥–ª—è –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤)

–ï—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è –±–æ–ª–µ–µ –Ω–∞–¥–µ–∂–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–æ–Ω–æ–≤—ã–º–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `pm2`.

1.  **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ (–µ—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω):**
    ```bash
    npm install -g pm2
    ```
2.  **–ü–µ—Ä–≤—ã–π –ó–∞–ø—É—Å–∫ / –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫:**
    –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≤—Å–µ —Ç–µ–∫—É—â–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã (`pm2 delete all`) –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ **—Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `bun`**:

    ```bash
    # –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä TypeScript –≤ —Ä–µ–∂–∏–º–µ –Ω–∞–±–ª—é–¥–µ–Ω–∏—è
    pm2 start bun --name tsc-watch -- run build:watch

    # Inngest Dev Server (—Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ Inngest)
    pm2 start bun --name inngest-dev -- run dev:serve

    # –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–°–µ—Ä–≤–µ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
    pm2 start bun --name app-server -- run dev:start
    ```

3.  **–ü—Ä–æ–≤–µ—Ä–∫–∞ –°—Ç–∞—Ç—É—Å–∞:**
    ```bash
    pm2 list
    ```
4.  **–ü—Ä–æ—Å–º–æ—Ç—Ä –õ–æ–≥–æ–≤:**
    ```bash
    pm2 logs <–∏–º—è_–ø—Ä–æ—Ü–µ—Å—Å–∞>
    pm2 logs # –ü–æ–∫–∞–∑–∞—Ç—å –ª–æ–≥–∏ –≤—Å–µ—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
    ```
5.  **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ/–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ:**
    ```bash
    pm2 save
    pm2 resurrect
    ```
6.  **–ü–æ–ª–Ω–∞—è –û—Å—Ç–∞–Ω–æ–≤–∫–∞:**
    ```bash
    pm2 delete all
    ```

**–í–∞–∂–Ω–æ:** –î–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∑–∞–ø—É—Å–∫–∞—Ç—å —ç—Ç–∏ `pm2 start` –∫–æ–º–∞–Ω–¥—ã –≤ **–æ—Ç–¥–µ–ª—å–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ**, –∞ –Ω–µ —á–µ—Ä–µ–∑ AI –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞, —Ç–∞–∫ –∫–∞–∫ —Å–µ—Å—Å–∏—è –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞ –º–æ–∂–µ—Ç –ø—Ä–µ—Ä—ã–≤–∞—Ç—å—Å—è.

---

## üß™ –ü–∞—Ç—Ç–µ—Ä–Ω—ã –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –õ—É—á—à–∏–µ –ü—Ä–∞–∫—Ç–∏–∫–∏ (–£—Ä–æ–∫–∏ –°—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏–∏)

–°—Ç–∞–±–∏–ª—å–Ω–æ–µ –∏ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Äì –∫–ª—é—á –∫ —É—Å–ø–µ—à–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ —Å AI-–∞–≥–µ–Ω—Ç–∞–º–∏. –ù–µ–¥–∞–≤–Ω–∏–π –æ–ø—ã—Ç —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤ –≤—ã—è–≤–∏–ª —Å–ª–µ–¥—É—é—â–∏–µ –≤–∞–∂–Ω—ã–µ –ø—Ä–∞–∫—Ç–∏–∫–∏:

1.  **üïâÔ∏è –ß–∏—Å—Ç–æ—Ç–∞ –¢–∏–ø–æ–≤ –ü—Ä–µ–∂–¥–µ –í—Å–µ–≥–æ:**

    - **–ü—Ä–∞–≤–∏–ª–æ:** _–ù–∏–∫–æ–≥–¥–∞_ –Ω–µ –∑–∞–ø—É—Å–∫–∞—Ç—å —Ç–µ—Å—Ç—ã (`bun test`) –¥–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ (`bun exec tsc --noEmit`) –Ω–µ –ø—Ä–æ–π–¥–µ—Ç —É—Å–ø–µ—à–Ω–æ **–±–µ–∑ –µ–¥–∏–Ω–æ–π –æ—à–∏–±–∫–∏**.
    - **–¶–∏–∫–ª:** –ü–æ—Å–ª–µ _–ª—é–±—ã—Ö_ –∏–∑–º–µ–Ω–µ–Ω–∏–π –∫–æ–¥–∞ (–æ—Å–æ–±–µ–Ω–Ω–æ –≤ –æ–±—â–∏—Ö —Ñ–∞–π–ª–∞—Ö –≤—Ä–æ–¥–µ `testSetup.ts`) –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å `tsc`. –ò—Å–ø—Ä–∞–≤–ª—è—Ç—å –æ—à–∏–±–∫–∏ —Ç–∏–ø–æ–≤ -> –ø–æ–≤—Ç–æ—Ä—è—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É -> —Ç–æ–ª—å–∫–æ –ø–æ—Ç–æ–º –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –∫ —Ç–µ—Å—Ç–∞–º.

2.  **üß± –ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏ –°—Ç–∞–±–∏–ª—å–Ω—ã–π `testSetup.ts`:**

    - **–§—É–Ω–¥–∞–º–µ–Ω—Ç:** –§–∞–π–ª `src/__tests__/setup/testSetup.ts` —è–≤–ª—è–µ—Ç—Å—è –æ—Å–Ω–æ–≤–æ–π —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è. –û–Ω –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —á–∏—Å—Ç—ã–º, –ø–æ–Ω—è—Ç–Ω—ã–º –∏ **—Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–º —Å–∞–º –ø–æ —Å–µ–±–µ**.
    - **–≠–∫—Å–ø–æ—Ä—Ç/–ò–º–ø–æ—Ä—Ç –¢–∏–ø–æ–≤:** –ò–∑–±–µ–≥–∞—Ç—å —Å–ª–æ–∂–Ω—ã—Ö —Å—Ö–µ–º —Ä–µ-—ç–∫—Å–ø–æ—Ä—Ç–∞ —Ç–∏–ø–æ–≤, –µ—Å–ª–∏ –æ–Ω–∏ –ø—Ä–∏–≤–æ–¥—è—Ç –∫ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞–º. –í –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ —Å—Ä–∞–±–æ—Ç–∞–ª –ø–∞—Ç—Ç–µ—Ä–Ω **–∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–≥–æ —Ä–µ-—ç–∫—Å–ø–æ—Ä—Ç–∞** (`export type AgentDependencies = AgentDependenciesType; export type BaseLogger = ...`) –≤ `testSetup.ts`. –¢–µ—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã –¥–æ–ª–∂–Ω—ã –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–∏–ø—ã –∏–∑ `testSetup.ts`.
    - **–ú–æ–∫–∏:** –í—Å–µ –æ–±—â–∏–µ –º–æ–∫–∏ (–ª–æ–≥–≥–µ—Ä, KV, –±–∞–∑–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã) –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –∏ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –∑–¥–µ—Å—å.

3.  **‚ôüÔ∏è –°—Ç—Ä–∞—Ç–µ–≥–∏—è –ú–æ–∫–∏—Ä–æ–≤–∞–Ω–∏—è:**

    - **–ü—Ä–æ—Å—Ç—ã–µ –ó–∞–≥–ª—É—à–∫–∏:** –ü—Ä–∏ –æ—Ç–ª–∞–¥–∫–µ —Å–ª–æ–∂–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º –∏–ª–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ —Ç–µ—Å—Ç–æ–≤ –¥–ª—è –Ω–æ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –Ω–∞—á–∏–Ω–∞—Ç—å —Å **–ø—Ä–æ—Å—Ç—ã—Ö –∑–∞–≥–ª—É—à–µ–∫** –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, `mockSandbox: any = undefined`, `createMockAgent: any = undefined`). –≠—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç –∏–∑–æ–ª–∏—Ä–æ–≤–∞—Ç—å –æ—à–∏–±–∫–∏.
    - **–ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–µ –£—Ç–æ—á–Ω–µ–Ω–∏–µ:** –ü–æ—Å–ª–µ —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏–∏ –æ—Å–Ω–æ–≤–Ω–æ–π —á–∞—Å—Ç–∏, –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ —Ä–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å/—É—Å–ª–æ–∂–Ω—è—Ç—å –º–æ–∫–∏ –∏ –∏—Å–ø—Ä–∞–≤–ª—è—Ç—å –æ—à–∏–±–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –æ–Ω–∏ –≤—ã–∑—ã–≤–∞—é—Ç –≤ —Ç–µ—Å—Ç–∞—Ö.
    - **–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –í —Ç–µ—Å—Ç–∞—Ö –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å **—Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ** –º–æ–∫–∏/—Ö–µ–ª–ø–µ—Ä—ã –∏–∑ `testSetup.ts`.
    - **Inngest –§—É–Ω–∫—Ü–∏–∏:** –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è Inngest —Ñ—É–Ω–∫—Ü–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ö–µ–Ω–¥–ª–µ—Ä–æ–≤ –∞–≥–µ–Ω—Ç–æ–≤) –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `@inngest/test` –∏ –º–µ—Ç–æ–¥ `t.execute()` —Å –æ–ø—Ü–∏–µ–π `steps` –¥–ª—è –º–æ–∫–∏—Ä–æ–≤–∞–Ω–∏—è —à–∞–≥–æ–≤ (`step.run`, `step.invoke` –∏ —Ç.–¥.), –∞ –Ω–µ –≤—Å–µ–≥–æ –º–æ–¥—É–ª—è.

4.  **üìâ –ò–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π –ü–æ–¥—Ö–æ–¥ –∫ –û—Ç–ª–∞–¥–∫–µ (–û—Å–æ–±–µ–Ω–Ω–æ –ø–æ—Å–ª–µ –°–ª–∏—è–Ω–∏—è):**

    - –ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –±–æ–ª—å—à–æ–≥–æ —á–∏—Å–ª–∞ –æ—à–∏–±–æ–∫ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ—Å–ª–µ `git merge`): **–Ω–µ –ø–∞–Ω–∏–∫–æ–≤–∞—Ç—å**. –°–æ—Å—Ä–µ–¥–æ—Ç–æ—á–∏—Ç—å—Å—è –Ω–∞ **–æ–¥–Ω–æ–π** –∫–ª—é—á–µ–≤–æ–π –æ–±–ª–∞—Å—Ç–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `testSetup.ts` –∏–ª–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –º–æ–¥—É–ª—å).
    - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `tsc --noEmit` –¥–ª—è –≤—ã—è–≤–ª–µ–Ω–∏—è –æ—à–∏–±–æ–∫.
    - –ò—Å–ø—Ä–∞–≤–ª—è—Ç—å –æ—à–∏–±–∫–∏ **–ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ**, —á–∞—Å—Ç–æ –ø–µ—Ä–µ–ø—Ä–æ–≤–µ—Ä—è—è —Ç–∏–ø—ã.
    - **–ò–∑–æ–ª–∏—Ä–æ–≤–∞—Ç—å:** –ï—Å–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ, –∑–∞–ø—É—Å–∫–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É —Ç–∏–ø–æ–≤ (`tsc`) –∏–ª–∏ —Ç–µ—Å—Ç—ã (`bun test --isolate`) —Ç–æ–ª—å–∫–æ –¥–ª—è –∏–∑–º–µ–Ω—è–µ–º–æ–≥–æ —Ñ–∞–π–ª–∞/–º–æ–¥—É–ª—è.
    - **–ö–æ–º–º–∏—Ç–∏—Ç—å –ß–∞—Å—Ç–æ:** –ü–æ—Å–ª–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–≥–æ —Å—Ç–∞–±–∏–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–µ–ª–∞—Ç—å –∫–æ–º–º–∏—Ç.

5.  **ü§ñ –í–Ω–∏–º–∞–Ω–∏–µ –∫ –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**
    - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã (`edit_file`) –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–µ–Ω–∞–¥–µ–∂–Ω—ã –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å–æ —Å–ª–æ–∂–Ω—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏ –∏–ª–∏ –ø—Ä–∏ –≤–Ω–µ—Å–µ–Ω–∏–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π. –í—Å–µ–≥–¥–∞ **–ø—Ä–æ–≤–µ—Ä—è—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç** –∏—Ö —Ä–∞–±–æ—Ç—ã.
    - –ü—Ä–∏ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è –Ω–µ—É–¥–∞—á–∞—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –Ω–µ –±–æ—è—Ç—å—Å—è –ø—Ä–∏–±–µ–≥–∞—Ç—å –∫ **—Ä—É—á–Ω–æ–π –∑–∞–º–µ–Ω–µ** —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —Ñ–∞–π–ª–∞ (–ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–≥–æ AI).

---

## üè∫ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ ("–ò–≥–ª–∞ –ö–æ—â–µ—è")

–ß—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è –¥–æ–ª–≥–∏—Ö –æ—Ç–ª–∞–¥–æ–∫, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π —Å—Ä–µ–¥—ã, –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å–∏—Å—Ç–µ–º—É —Å–Ω–∏–º–∫–æ–≤ –∫–ª—é—á–µ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤.

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –í–∞–∂–Ω—ã–µ –§–∞–π–ª—ã –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–°–ª–µ–¥—É—é—â–∏–µ —Ñ–∞–π–ª—ã —Å—á–∏—Ç–∞—é—Ç—Å—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–º–∏ –¥–ª—è –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏ –≤–∫–ª—é—á–µ–Ω—ã –≤ —Å–Ω–∏–º–∫–∏:

- `package.json`: –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞ –∏ —Å–∫—Ä–∏–ø—Ç—ã.
- `bun.lockb`: –§–∏–∫—Å–∏—Ä—É–µ—Ç —Ç–æ—á–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (–∞–Ω–∞–ª–æ–≥ `pnpm-lock.yaml`).
- `tsconfig.json`: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞ TypeScript.
- `(vite.config.ts —É–¥–∞–ª–µ–Ω)`: –†–∞–Ω–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –¥–ª—è Vite/Vitest, —Ç–µ–ø–µ—Ä—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤ —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è Bun.
- `.npmrc`: –ú–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è `bun`, —Ö–æ—Ç—è —á–∞—Å—Ç–æ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è. –†–∞–Ω–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –¥–ª—è `pnpm` —Å `node-linker=hoisted`.

### –°–æ–∑–¥–∞–Ω–∏–µ –°–Ω–∏–º–∫–∞

–î–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–π —Å—Ç–∞–±–∏–ª—å–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç:

```bash
bash scripts/config/save-snapshot.sh
```

–≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `snapshots/snapshot-YYYY-MM-DD_HH-MM-SS`, —Å–æ–¥–µ—Ä–∂–∞—â—É—é –∫–æ–ø–∏–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤.

### –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ –°–Ω–∏–º–∫–∞

–ï—Å–ª–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±—ã–ª–∞ –Ω–∞—Ä—É—à–µ–Ω–∞ –∏–ª–∏ –≤—ã –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç–µ –ø—Ä–æ–µ–∫—Ç –∑–∞–Ω–æ–≤–æ, –≤—ã –º–æ–∂–µ—Ç–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω—é—é –∏–∑–≤–µ—Å—Ç–Ω—É—é —Å—Ç–∞–±–∏–ª—å–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:

1.  **–ù–∞–π–¥–∏—Ç–µ –Ω—É–∂–Ω—ã–π —Å–Ω–∏–º–æ–∫:** –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –≤ `snapshots/`.
2.  **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è**, —É–∫–∞–∑–∞–≤ –ø—É—Ç—å –∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å–Ω–∏–º–∫–∞:

    ```bash
    # –ó–∞–º–µ–Ω–∏—Ç–µ <–∏–º—è_–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏_—Å–Ω–∏–º–∫–∞> –Ω–∞ –∞–∫—Ç—É–∞–ª—å–Ω–æ–µ
    bash scripts/config/restore-snapshot.sh snapshots/<–∏–º—è_–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏_—Å–Ω–∏–º–∫–∞>
    ```

3.  **–ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –ü–æ—Å–ª–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤ **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ** –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
    ```bash
    bun install
    ```

---

## üõ†Ô∏è –ù–µ–¥–∞–≤–Ω–∏–µ –í–∞–∂–Ω—ã–µ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–ú–∞–π 2024)

–î–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∏ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è –æ—à–∏–±–æ–∫:

- **–ü—Ä–æ–±–ª–µ–º–∞ —Å `zod`:** –û—à–∏–±–∫–∏ TypeScript "Cannot find module 'zod'" –±—ã–ª–∏ —Ä–µ—à–µ–Ω—ã –ø—É—Ç–µ–º –ø–µ—Ä–µ—Ö–æ–¥–∞ –Ω–∞ `bun`. –ú–µ—Ö–∞–Ω–∏–∑–º —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π `bun` —É—Å—Ç—Ä–∞–Ω–∏–ª —ç—Ç—É –ø—Ä–æ–±–ª–µ–º—É.
- **–û—à–∏–±–∫–∞ –¢–∏–ø–æ–≤ –ê–≥–µ–Ω—Ç–æ–≤:** –û—à–∏–±–∫–∞ `TS2352` –≤ `src/inngest/logic/dependencyUtils.ts` –±—ã–ª–∞ –≤—Ä–µ–º–µ–Ω–Ω–æ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∞ —è–≤–Ω—ã–º –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ–º —Ç–∏–ø–æ–≤ —á–µ—Ä–µ–∑ `as unknown as Agent<TddNetworkState>`. **–¢—Ä–µ–±—É–µ—Ç —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞:** —Ñ—É–Ω–∫—Ü–∏–∏ `create*Agent` –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω—ã —Ç–∏–ø–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏—è (`TddNetworkState`) –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ç–∏–ø–∏–∑–∞—Ü–∏–∏.
- **–ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ `bun`:** –ü—Ä–æ–µ–∫—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–≤–µ–¥–µ–Ω —Å `pnpm` –∏ `Vitest` –Ω–∞ `bun` –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏, –∑–∞–ø—É—Å–∫–∞ —Å–∫—Ä–∏–ø—Ç–æ–≤ –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤ (`bun test`). –§–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ `vite.config.ts`, `vitest.config.ts`, `vitest.config.e2e.ts` –±—ã–ª–∏ —É–¥–∞–ª–µ–Ω—ã.

---

## üöÄ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –û–∫—Ä—É–∂–µ–Ω–∏—è —Å –ù—É–ª—è

1.  **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**
    ```bash
    git clone https://github.com/gHashTag/999.git
    cd 999
    ```
2.  **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
    ```bash
    bun install
    ```
3.  **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏–µ:**
    - –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å `.env.example` –≤ `.env`.
    - –ó–∞–ø–æ–ª–Ω–∏—Ç—å `.env` –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º–∏ –∫–ª—é—á–∞–º–∏ API (DeepSeek, E2B, Inngest).
4.  **–ó–∞–ø—É—Å—Ç–∏—Ç—å —Ñ–æ–Ω–æ–≤—ã–µ —Å–µ—Ä–≤–∏—Å—ã (–≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ç–µ—Ä–º–∏–Ω–∞–ª–∞—Ö):**
    ```bash
    # –û–∫–Ω–æ 1: –ö–æ–º–ø–∏–ª—è—Ü–∏—è TypeScript
    bun run build:watch
    # –û–∫–Ω–æ 2: Inngest Dev Server
    bun run dev:serve
    # –û–∫–Ω–æ 3: –°–µ—Ä–≤–µ—Ä –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è
    bun run dev:start
    ```
5.  **–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤–æ–µ —Å–æ–±—ã—Ç–∏–µ Inngest:**
    ```bash
    node scripts/send-test-event.mjs "Create a file hello.txt with content Hello World"
    # –ò–ª–∏:
    # curl -X POST http://localhost:8288/e/<YOUR_INNGEST_EVENT_KEY> -d '{"name":"coding-agent/run", "data":{"input":"Your task here"}}'
    ```
6.  **–ù–∞–±–ª—é–¥–∞—Ç—å –∑–∞ –ª–æ–≥–∞–º–∏:**
    ```bash
    tail -f node-app.log | bun run scripts/pretty-logs.mjs
    # –ò–ª–∏
    tail -f inngest-cli.log
    ```

## ‚úÖ –°—Ç–∞—Ç—É—Å –∏ –¢–µ–∫—É—â–∏–µ –ó–∞–¥–∞—á–∏

–°–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞, —Ç–µ–∫—É—â–∏–µ –∑–∞–¥–∞—á–∏ –∏ roadmap –æ—Ç—Å–ª–µ–∂–∏–≤–∞—é—Ç—Å—è –≤ —Ñ–∞–π–ª–µ:
[`.cursor/rules/current_task.mdc`](./.cursor/rules/current_task.mdc)

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –°—Ç–µ–∫

- **–°—Ä–µ–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** Bun
- **–Ø–∑—ã–∫:** TypeScript
- **–û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è –∑–∞–¥–∞—á:** Inngest
- **–û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è –∞–≥–µ–Ω—Ç–æ–≤:** AgentKit (`@inngest/agent-kit`)
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** Bun Test (`bun test`)
- **–ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞:** ESLint, Prettier
- **–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–æ–≤:** `pino-pretty`
- **–ú–æ–¥–µ–ª—å –ò–ò:** DeepSeek Coder (–∏–ª–∏ –¥—Ä—É–≥–∞—è, –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `.env`)
- **–ü–µ—Å–æ—á–Ω–∏—Ü–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):** E2B Sandbox (`@e2b/sdk`)

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ü—Ä–æ–µ–∫—Ç–∞

```
‚îú‚îÄ‚îÄ .cursor/         # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è Cursor AI
‚îÇ   ‚îî‚îÄ‚îÄ rules/       # –ü—Ä–∞–≤–∏–ª–∞ –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è AI (–î—Ö–∞—Ä–º–∞ –ü—Ä–æ–µ–∫—Ç–∞)
‚îú‚îÄ‚îÄ .husky/          # Git —Ö—É–∫–∏ (–¥–ª—è pre-commit –ø—Ä–æ–≤–µ—Ä–æ–∫)
‚îú‚îÄ‚îÄ artifacts/       # –ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (–ª–æ–≥–∏, —Ñ–∞–π–ª—ã –∏–∑ –ø–µ—Å–æ—á–Ω–∏—Ü—ã)
‚îú‚îÄ‚îÄ coverage/        # –û—Ç—á–µ—Ç—ã –æ –ø–æ–∫—Ä—ã—Ç–∏–∏ –∫–æ–¥–∞ —Ç–µ—Å—Ç–∞–º–∏ (—É–¥–∞–ª–µ–Ω–æ, Bun –Ω–µ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç html –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
‚îú‚îÄ‚îÄ html/            # –û—Ç—á–µ—Ç—ã Bun Test (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ)
‚îú‚îÄ‚îÄ node_modules/    # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ scripts/         # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã (—Å–±–æ—Ä–∫–∞, —Ç–µ—Å—Ç—ã, –¥–µ–ø–ª–æ–π...)
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ adapters/    # –ê–¥–∞–ø—Ç–µ—Ä—ã –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ (MCP, ...)
‚îÇ   ‚îú‚îÄ‚îÄ agents/      # –õ–æ–≥–∏–∫–∞ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∞–≥–µ–Ω—Ç–æ–≤ (Coder, Critic, ...)
‚îÇ   ‚îú‚îÄ‚îÄ cli/         # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è CLI (open-codex-cli)
‚îÇ   ‚îú‚îÄ‚îÄ definitions/ # –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∞–≥–µ–Ω—Ç–æ–≤ –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è AgentKit
‚îÇ   ‚îú‚îÄ‚îÄ inngest/     # –§—É–Ω–∫—Ü–∏–∏ –∏ –ª–æ–≥–∏–∫–∞ Inngest
‚îÇ   ‚îú‚îÄ‚îÄ mocks/       # –ú–æ–∫–∏ –¥–ª—è MSW (—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API)
‚îÇ   ‚îú‚îÄ‚îÄ network/     # –õ–æ–≥–∏–∫–∞ —Å–µ—Ç–∏ –∞–≥–µ–Ω—Ç–æ–≤ AgentKit (—Ä–æ—É—Ç–µ—Ä, —Å–æ—Å—Ç–æ—è–Ω–∏–µ)
‚îÇ   ‚îú‚îÄ‚îÄ server/      # –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–µ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (Fastify)
‚îÇ   ‚îú‚îÄ‚îÄ tools/       # –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∏ –ª–æ–≥–∏–∫–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è –∞–≥–µ–Ω—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ types/       # –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Ç–∏–ø—ã TypeScript
‚îÇ   ‚îú‚îÄ‚îÄ utils/       # –û–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã (–ª–æ–≥–≥–µ—Ä, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫)
‚îÇ   ‚îî‚îÄ‚îÄ vendor/      # –ö–æ–ø–∏–∏ —Ç–∏–ø–æ–≤ –∏–∑ vendor-–±–∏–±–ª–∏–æ—Ç–µ–∫ (–¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏)
‚îú‚îÄ‚îÄ vendor-types/    # –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ `.d.ts` —Ñ–∞–π–ª—ã –∏–∑ `node_modules`
‚îú‚îÄ‚îÄ .env.example     # –ü—Ä–∏–º–µ—Ä —Ñ–∞–π–ª–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ .env             # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–≤ .gitignore)
‚îú‚îÄ‚îÄ .eslintignore    # –§–∞–π–ª—ã, –∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º—ã–µ ESLint (—É—Å—Ç–∞—Ä–µ–ª–æ)
‚îú‚îÄ‚îÄ .eslintrc.cjs    # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è ESLint
‚îú‚îÄ‚îÄ .gitignore       # –§–∞–π–ª—ã, –∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º—ã–µ Git
‚îú‚îÄ‚îÄ .prettierrc.json # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Prettier
‚îú‚îÄ‚îÄ bun.lockb        # Lock-—Ñ–∞–π–ª Bun
‚îú‚îÄ‚îÄ eslint.config.js # –ù–æ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è ESLint (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –Ω–∞–¥ .eslintrc.cjs)
‚îú‚îÄ‚îÄ package.json     # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ —Å–∫—Ä–∏–ø—Ç—ã –ø—Ä–æ–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ tsconfig.json    # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è TypeScript
‚îî‚îÄ‚îÄ README.md        # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

## üìú –°–∫—Ä–∏–ø—Ç—ã `package.json`

- `bun install`: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.
- `bun run build`: –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ TypeScript (`tsc`).
- `bun run build:watch`: –°–±–æ—Ä–∫–∞ –≤ —Ä–µ–∂–∏–º–µ –Ω–∞–±–ª—é–¥–µ–Ω–∏—è.
- `bun run dev:serve`: –ó–∞–ø—É—Å–∫ Inngest Dev Server (`inngest-cli dev`).
- `bun run dev:start`: –ó–∞–ø—É—Å–∫ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (`bun run src/server/index.ts`).
- `bun run dev`: –ó–∞–ø—É—Å–∫ `dev:serve` –∏ `dev:start` –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å `concurrently`.
- `bun run lint`: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞ —Å –ø–æ–º–æ—â—å—é ESLint.
- `bun run lint:fix`: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ ESLint.
- `bun run format`: –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ —Å –ø–æ–º–æ—â—å—é Prettier.
- `bun run format:check`: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.
- `bun run typecheck`: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ TypeScript (`tsc --noEmit`).
- `bun run check`: –ó–∞–ø—É—Å–∫ `lint`, `format` –∏ `typecheck` –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ.
- `bun test`: –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤ —Å –ø–æ–º–æ—â—å—é Bun Test Runner.
- `bun test:watch`: –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –≤ —Ä–µ–∂–∏–º–µ –Ω–∞–±–ª—é–¥–µ–Ω–∏—è.
- `bun test:ui`: –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ —Å UI (–º–æ–∂–µ—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å —Å Bun Test).
- `bun test:coverage`: –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ —Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –æ—Ç—á–µ—Ç–∞ –æ –ø–æ–∫—Ä—ã—Ç–∏–∏.
- `bun test:e2e`: –ó–∞–ø—É—Å–∫ E2E —Ç–µ—Å—Ç–æ–≤.
- `bun run open-codex`: –ó–∞–ø—É—Å–∫ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ CLI –¥–ª—è –æ–±—â–µ–Ω–∏—è —Å –∞–≥–µ–Ω—Ç–∞–º–∏.

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **Bun Test Runner** –¥–ª—è –≤—Å–µ—Ö –≤–∏–¥–æ–≤ —Ç–µ—Å—Ç–æ–≤.

- **Unit-—Ç–µ—Å—Ç—ã:** –ü—Ä–æ–≤–µ—Ä—è—é—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏/—Ñ—É–Ω–∫—Ü–∏–∏/–∞–≥–µ–Ω—Ç—ã –≤ –∏–∑–æ–ª—è—Ü–∏–∏. –ù–∞—Ö–æ–¥—è—Ç—Å—è –≤ `src/__tests__/...` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `src/__tests__/agents/coder.test.ts`).
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã:** –ü—Ä–æ–≤–µ—Ä—è—é—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∞–¥–∞–ø—Ç–µ—Ä + –º–æ–∫-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç). –ù–∞—Ö–æ–¥—è—Ç—Å—è –≤ `src/__tests__/integration/`, `src/__tests__/adapters/`.
- **E2E-—Ç–µ—Å—Ç—ã:** –ü—Ä–æ–≤–µ—Ä—è—é—Ç –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã, —á–∞—Å—Ç–æ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ä–µ–∞–ª—å–Ω—ã—Ö –∏–ª–∏ —á–∞—Å—Ç–∏—á–Ω–æ –º–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π. –ù–∞—Ö–æ–¥—è—Ç—Å—è –≤ `src/__tests__/e2e/`.
- **–ó–∞–ø—É—Å–∫:**
  - –í—Å–µ —Ç–µ—Å—Ç—ã: `bun test`
  - –¢–µ—Å—Ç—ã –≤ —Ä–µ–∂–∏–º–µ –Ω–∞–±–ª—é–¥–µ–Ω–∏—è: `bun test --watch`
  - –ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∑–∞–ø—É—Å–∫ —Ñ–∞–π–ª–∞: `bun test <–ø—É—Ç—å_–∫_—Ñ–∞–π–ª—É> --isolate`
  - –ó–∞–ø—É—Å–∫ —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º: `bun test --coverage` (–æ—Ç—á–µ—Ç –≤ –∫–æ–Ω—Å–æ–ª–∏)

## ü™µ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `pino` –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è. –î–ª—è —É–¥–æ–±–Ω–æ–≥–æ —á—Ç–µ–Ω–∏—è –ª–æ–≥–æ–≤ –≤ –∫–æ–Ω—Å–æ–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `pino-pretty` —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç `scripts/pretty-logs.mjs`:

```bash
tail -f node-app.log | bun run scripts/pretty-logs.mjs
```

## ü§ñ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ê–≥–µ–Ω—Ç–æ–≤

–í—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ä–æ–ª–µ–π –∞–≥–µ–Ω—Ç–æ–≤ –∏ –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ –∏—Ö –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤:
[`.cursor/rules/README.mdc`](./.cursor/rules/README.mdc)

–î–µ—Ç–∞–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∞–≥–µ–Ω—Ç–∞ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö —Ñ–∞–π–ª–∞—Ö `AGENT_*.mdc` –≤ —Ç–æ–π –∂–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏.

## ‚öôÔ∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –û–∫—Ä—É–∂–µ–Ω–∏–µ–º –†–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (–†—É—á–Ω–æ–π –†–µ–∂–∏–º)

–î–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã –≤–æ –≤—Ä–µ–º—è —Å–æ–≤–º–µ—Å—Ç–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∑–∞–ø—É—Å–∫–∞—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ñ–æ–Ω–æ–≤—ã–µ —Å–µ—Ä–≤–∏—Å—ã –≤—Ä—É—á–Ω—É—é –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –æ–∫–Ω–∞—Ö —Ç–µ—Ä–º–∏–Ω–∞–ª–∞:

1.  **–û–∫–Ω–æ 1: –ö–æ–º–ø–∏–ª—è—Ü–∏—è TypeScript (`tsc --watch`)**
    ```bash
    bun run build:watch
    ```
2.  **–û–∫–Ω–æ 2: Inngest Dev Server (`inngest-cli dev`)**
    ```bash
    bun run dev:serve
    ```
3.  **–û–∫–Ω–æ 3: –°–µ—Ä–≤–µ—Ä –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è (`bun run ...`)**
    ```bash
    bun run dev:start
    ```

**–ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ä–∞–±–æ—Ç—ã:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ —Ç—Ä–∏ –∫–æ–º–∞–Ω–¥—ã —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω—ã.

## ü§ù Contributing

–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–ª–µ–¥—É–π—Ç–µ [–†—É–∫–æ–≤–æ–¥—Å—Ç–≤—É –ø–æ –ö–æ–º–º–∏—Ç–∞–º](COMMIT_GUIDE.md).

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

[MIT](./LICENSE)

## üß™ –ü–ª–∞–Ω —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è Telegram-–±–æ—Ç–∞

### –¢–µ–∫—É—â–µ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏

#### ‚úÖ –ü–æ–∫—Ä—ã—Ç–æ:

- –ë–∞–∑–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –º–æ–¥—É–ª—è (`index.test.ts`):
  - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–æ—Ç–∞
  - –≠–∫—Å–ø–æ—Ä—Ç API –∏ –∞–¥–∞–ø—Ç–µ—Ä–æ–≤
  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–Ω–æ–ø–æ–∫ –º–µ–Ω—é
  - –í–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥
  - –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã —Å—Ü–µ–Ω
- –°—Ü–µ–Ω–∞ –ø—Ä–æ–µ–∫—Ç–æ–≤ (`project-scene.test.ts`):
  - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø—Ä–æ–µ–∫—Ç–æ–≤
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–ª—É—á–∞—è –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –ø—Ä–æ–µ–∫—Ç–æ–≤
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–ª—É—á–∞—è –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
  - –í–∞–ª–∏–¥–∞—Ü–∏—è –∏–º–µ–Ω–∏ –ø—Ä–æ–µ–∫—Ç–∞
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–µ–π—Å—Ç–≤–∏–π –∫–Ω–æ–ø–æ–∫ (–≤—ã—Ö–æ–¥, —Å–æ–∑–¥–∞–Ω–∏–µ, –≤–æ–∑–≤—Ä–∞—Ç –∫ —Å–ø–∏—Å–∫—É)

#### ‚ùå –¢—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–∫—Ä—ã—Ç–∏–µ:

- –°—Ü–µ–Ω–∞ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤ (`competitor-scene.ts`):
  - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤ –æ–¥–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
  - –í—ã–±–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞ –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö
  - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–∞
  - –í–∞–ª–∏–¥–∞—Ü–∏—è URL Instagram
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã UI –∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã:
  - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–æ–≤ –∫–ª–∞–≤–∏–∞—Ç—É—Ä
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–Ω–æ–ø–æ–∫
- –ê–¥–∞–ø—Ç–µ—Ä—ã —Ö—Ä–∞–Ω–∏–ª–∏—â–∞:
  - Memory-–∞–¥–∞–ø—Ç–µ—Ä (`memory-adapter.ts`)
  - Neon-–∞–¥–∞–ø—Ç–µ—Ä (`neon-adapter.ts`)
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã:
  - –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –º–µ–∂–¥—É —Å—Ü–µ–Ω–∞–º–∏
  - –ü–µ—Ä–µ—Ö–æ–¥ –æ—Ç –ø—Ä–æ–µ–∫—Ç–æ–≤ –∫ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–∞–º
  - –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞ –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–∞

### Roadmap –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é

1. **–ö–æ—Ä–æ—Ç–∫–∏–π –ø–ª–∞–Ω (–±–ª–∏–∂–∞–π—à–∏–µ –∑–∞–¥–∞—á–∏):**

   - –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è `competitor-scene.ts`
   - –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã (`project-keyboard.ts`)
   - –î–æ–ø–æ–ª–Ω–∏—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è –∞–¥–∞–ø—Ç–µ—Ä–æ–≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞

2. **–°—Ä–µ–¥–Ω–∏–π –ø–ª–∞–Ω:**

   - –°–æ–∑–¥–∞—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –º–µ–∂–¥—É —Å—Ü–µ–Ω–∞–º–∏
   - –†–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è –ø—Ä–æ—Å—Ç–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è Telegraf-—Å—Ü–µ–Ω
   - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å mock-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è workflows

3. **–î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–π –ø–ª–∞–Ω:**
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å E2E-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —Ç–µ—Å—Ç–æ–≤—ã–º –±–æ—Ç–æ–º
   - –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ API Instagram
   - –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö Neon –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ö—Ä–∞–Ω–∏–ª–∏—â–∞

### –ü–∞—Ç—Ç–µ—Ä–Ω—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è Telegram-–±–æ—Ç–∞

#### –ü–∞—Ç—Ç–µ—Ä–Ω —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Ü–µ–Ω—ã:

```typescript
describe("Scene Name", () => {
  // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
  beforeEach(() => {
    ctx = {
      reply: vi.fn(),
      answerCbQuery: vi.fn(),
      scene: {
        enter: vi.fn(),
        leave: vi.fn(),
        session: {},
      },
      from: { id: 123456789 },
    }
  })

  // –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ö–æ–¥–∞ –≤ —Å—Ü–µ–Ω—É
  it("should handle enter correctly", async () => {
    await scene.emit("enter", ctx)
    expect(ctx.reply).toHaveBeenCalled()
  })

  // –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π –∫–Ω–æ–ø–æ–∫
  it("should handle button action", async () => {
    await scene.emit("action", ctx, "action_name")
    expect(ctx.answerCbQuery).toHaveBeenCalled()
  })

  // –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
  it("should handle text message", async () => {
    ctx.message = { text: "Test message" }
    await scene.emit("text", ctx)
    expect(ctx.reply).toHaveBeenCalled()
  })
})
```

#### –ü–∞—Ç—Ç–µ—Ä–Ω —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ UI:

```typescript
describe("UI Component", () => {
  it("should generate correct keyboard layout", () => {
    const keyboard = generateKeyboard(testData)
    expect(keyboard.reply_markup.inline_keyboard).toHaveLength(expectedRows)
    expect(keyboard.reply_markup.inline_keyboard[0]).toHaveLength(
      expectedButtonsInFirstRow
    )
  })
})
```
