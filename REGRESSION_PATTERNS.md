# üïâÔ∏è REGRESSION_PATTERNS.md: –ö–∞—Ä—Ç–∞ –û—à–∏–±–æ—á–Ω—ã—Ö –¢—Ä–æ–ø

**–ü—Ä–∏–Ω—Ü–∏–ø:** –û—Å–æ–∑–Ω–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ –ø—Ä–æ—à–ª–æ–≥–æ ‚Äì –∫–ª—é—á –∫ –∏–∑–±–µ–≥–∞–Ω–∏—é —Å—Ç—Ä–∞–¥–∞–Ω–∏–π –≤ –±—É–¥—É—â–µ–º.

**–°–æ–¥–µ—Ä–∂–∏—Ç:**
*   –û–ø–∏—Å–∞–Ω–∏–µ –Ω–µ—É–¥–∞—á–Ω—ã—Ö –ø–æ–¥—Ö–æ–¥–æ–≤ –∏ –∞–Ω—Ç–∏-–ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤.
*   –ü–∞—Ç—Ç–µ—Ä–Ω—ã, –ø—Ä–∏–≤–æ–¥–∏–≤—à–∏–µ –∫ –æ—à–∏–±–∫–∞–º, –±–∞–≥–∞–º –∏–ª–∏ —Ä–µ–≥—Ä–µ—Å—Å–∏—è–º.
*   –ê–Ω–∞–ª–∏–∑ **–ø—Ä–∏—á–∏–Ω** –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è —ç—Ç–∏—Ö –ø—Ä–æ–±–ª–µ–º.
*   –°—Å—ã–ª–∫–∏ –Ω–∞ –∫–æ–º–º–∏—Ç—ã –∏–ª–∏ –∑–∞–¥–∞—á–∏, –≥–¥–µ —ç—Ç–∏ –ø—Ä–æ–±–ª–µ–º—ã –±—ã–ª–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã (–µ—Å–ª–∏ –ø—Ä–∏–º–µ–Ω–∏–º–æ).

**–ö–∞–∫ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
*   –ü—Ä–∏ **–ª—é–±–æ–π –æ—à–∏–±–∫–µ –∏–ª–∏ —Ä–µ–≥—Ä–µ—Å—Å–∏–∏**, –æ—Å–æ–±–µ–Ω–Ω–æ –µ—Å–ª–∏ –æ–Ω–∞ –∫–∞–∂–µ—Ç—Å—è **–∑–Ω–∞–∫–æ–º–æ–π** ‚Äì –ø—Ä–æ–≤–µ—Ä—å, –Ω–µ –æ–ø–∏—Å–∞–Ω –ª–∏ —É–∂–µ —ç—Ç–æ—Ç –∞–Ω—Ç–∏-–ø–∞—Ç—Ç–µ—Ä–Ω.
*   –ü–µ—Ä–µ–¥ —Ç–µ–º, –∫–∞–∫ –ø—Ä–æ–±–æ–≤–∞—Ç—å **–Ω–æ–≤—ã–π –∏–ª–∏ –Ω–µ–æ—á–µ–≤–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥** ‚Äì —É–±–µ–¥–∏—Å—å, —á—Ç–æ –æ–Ω –Ω–µ —á–∏—Å–ª–∏—Ç—Å—è —Å—Ä–µ–¥–∏ –Ω–µ—É–¥–∞—á–Ω—ã—Ö.
*   –î–ª—è **–∑–∞–∫—Ä–µ–ø–ª–µ–Ω–∏—è** —É—Ä–æ–∫–∞ –ø–æ—Å–ª–µ –∞–Ω–∞–ª–∏–∑–∞ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—à–∏–±–∫–∏, –ø–æ–¥—Ä–æ–±–Ω–æ –æ–ø–∏—Å–∞–≤ –ø—Ä–æ–±–ª–µ–º—É –∏ –µ–µ –∫–æ—Ä–µ–Ω—å.

## –ê–Ω–æ–º–∞–ª–∏—è –ú–æ–∫–∞ –õ–æ–≥–≥–µ—Ä–∞ –≤ Unit-–¢–µ—Å—Ç–µ (–ê–ø—Ä–µ–ª—å 2025)

*   **–§–∞–π–ª:** `src/__tests__/tools/updateTaskStateTool.test.ts`
*   **–¢–µ—Å—Ç:** `should log start and end messages`
*   **–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—ã–∑–æ–≤–µ `handler`-–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –≤ —ç—Ç–æ–º —Ç–µ—Å—Ç–µ, –≤—ã–∑–æ–≤ `log.info("Network state updated successfully.", ...)` –≤–Ω—É—Ç—Ä–∏ `handler`-–∞ –Ω–µ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è –º–æ–∫–æ–º (`mockLogger.info`). –û–¥–Ω–∞–∫–æ, –ø—Ä–∏ *–≤—Ç–æ—Ä–æ–º* –≤—ã–∑–æ–≤–µ `handler`-–∞ –≤ —Ç–æ–º –∂–µ —Ç–µ—Å—Ç–µ, –ª–æ–≥ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ. –û—Ç–ª–∞–¥–æ—á–Ω—ã–π `console.log` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–æ—Ö–æ–¥–∏—Ç –¥–æ —Ç–æ—á–∫–∏ –≤—ã–∑–æ–≤–∞ –ª–æ–≥–∞ –≤ –æ–±–æ–∏—Ö —Å–ª—É—á–∞—è—Ö.
*   **–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞. –í–æ–∑–º–æ–∂–Ω–æ, —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–±–ª–µ–º–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è `bun test`/`vitest` —Å –º–æ–∫–∞–º–∏ –≤ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º –∫–æ–¥–µ –ø—Ä–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —É—Å–ª–æ–≤–∏—è—Ö.
*   **–†–µ—à–µ–Ω–∏–µ:** –¢–µ—Å—Ç –≤—Ä–µ–º–µ–Ω–Ω–æ –ø—Ä–æ–ø—É—â–µ–Ω (`it.skip`) –¥–ª—è —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞. –¢—Ä–µ–±—É–µ—Ç –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –∏–ª–∏ –±—É–¥–µ—Ç —Ä–µ—à–µ–Ω–∞ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Ç–µ—Å—Ç–æ–≤—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.

## –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –í–Ω–µ—à–Ω–∏—Ö –ë–∏–±–ª–∏–æ—Ç–µ–∫ (–ê–ø—Ä–µ–ª—å 2025)

*   **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:** –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã —Å–µ—Ç–∏ (`teamLeadWorkflow.test.ts`), E2E —Ç–µ—Å—Ç—ã (`teamLeadAgent.e2e.test.ts`), —Ç–µ—Å—Ç—ã Inngest —Ñ—É–Ω–∫—Ü–∏–π (`codingAgent.test.ts`, `minimalExample.test.ts` - –≤–æ–∑–º–æ–∂–Ω–æ).
*   **–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Ç–µ—Å—Ç—ã, –ø—Ä–æ–≤–µ—Ä—è—é—â–∏–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –≤–Ω—É—Ç—Ä–∏ —Å–µ—Ç–∏ AgentKit (`network.run`) –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–µ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ `@inngest/test` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `internalEvents`), –Ω–µ –ø—Ä–æ—Ö–æ–¥—è—Ç –∏–∑-–∑–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –æ—à–∏–±–æ–∫ –≤ —ç—Ç–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ö (`TypeError: Cannot read properties of undefined (reading 'request')` –≤ `agent-kit`, –æ—à–∏–±–∫–∞ `internalEvents` –≤ `@inngest/test`).
*   **–ü—Ä–∏—á–∏–Ω–∞:** –ë–∞–≥–∏ –∏–ª–∏ –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ –≤ –≤–µ—Ä—Å–∏—è—Ö `@inngest/agent-kit` –∏/–∏–ª–∏ `@inngest/test`.
*   **–†–µ—à–µ–Ω–∏–µ:** –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–ø—É—â–µ–Ω—ã (`it.skip`). –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π —ç—Ç–∏—Ö –≤–Ω–µ—à–Ω–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫.

## –ê–Ω–æ–º–∞–ª–∏—è –ú–æ–∫–∞ –õ–æ–≥–≥–µ—Ä–∞ –≤ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–º –¢–µ—Å—Ç–µ MCP –ê–¥–∞–ø—Ç–µ—Ä–∞ (–ê–ø—Ä–µ–ª—å 2025)

*   **–§–∞–π–ª:** `src/__tests__/adapters/mcpAdapter.integration.test.ts`
*   **–¢–µ—Å—Ç:** `–¥–æ–ª–∂–µ–Ω –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å –∫–ª—é—á–µ–≤—ã–µ —Å–æ–±—ã—Ç–∏—è –∏ –æ—à–∏–±–∫–∏`
*   **–ü—Ä–æ–±–ª–µ–º–∞:** –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ —Ç–µ—Å—Ç—É –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ `updateTaskStateTool`, –≤—ã–∑–æ–≤ `mockError` –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –æ—à–∏–±–∫–∏ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ `adapter.run` –Ω–µ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è –º–æ–∫–æ–º –æ–∂–∏–¥–∞–µ–º—ã–º –æ–±—Ä–∞–∑–æ–º, —Ö–æ—Ç—è —Å–∞–º –≤—ã–∑–æ–≤ `adapter.run` –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Å –æ—à–∏–±–∫–æ–π (—á–µ—Ä–µ–∑ `rejects.toThrow`).
*   **–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞. –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –≥–∏–ø–æ—Ç–µ–∑—É –æ —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–±–ª–µ–º–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è `bun test`/`vitest` —Å –º–æ–∫–∞–º–∏ –ª–æ–≥–≥–µ—Ä–∞ –≤ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º –∫–æ–¥–µ.
*   **–†–µ—à–µ–Ω–∏–µ:** –¢–µ—Å—Ç –≤—Ä–µ–º–µ–Ω–Ω–æ –ø—Ä–æ–ø—É—â–µ–Ω (`it.skip`). 