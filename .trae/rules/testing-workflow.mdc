---
description: 
globs: 
alwaysApply: true
---
# üïâÔ∏è –ü—Ä–∞–≤–∏–ª–æ: –†–∏—Ç—É–∞–ª –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –û—Ç–ª–∞–¥–∫–∏ –ü–æ—Ç–æ–∫–∞ –ê–≥–µ–Ω—Ç–æ–≤

**–ü—Ä–∏–Ω—Ü–∏–ø:** –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –∏ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è ‚Äì –æ—Å–Ω–æ–≤–∞ –¥–ª—è —É–≤–µ—Ä–µ–Ω–Ω–æ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è –≤–ø–µ—Ä–µ–¥. –≠—Ç–æ—Ç —Ä–∏—Ç—É–∞–ª –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –Ω–∞–¥–µ–∂–Ω—ã–π —Å–ø–æ—Å–æ–± –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤ –∏ –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞.

**–ü—Ä–æ–±–ª–µ–º–∞:**
–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∑–∞–ø—É—Å–∫ –¥–æ–ª–≥–∏—Ö —Ç–µ—Å—Ç–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `vitest run` –≤–Ω—É—Ç—Ä–∏ `build-test.sh`) —á–µ—Ä–µ–∑ `run_terminal_cmd` —Å–æ–∑–¥–∞–µ—Ç —Ç—Ä—É–¥–Ω–æ—Å—Ç–∏:
*   `is_background=True`: –ö–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è, –Ω–æ –º—ã –Ω–µ –≤–∏–¥–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏ –Ω–µ –∑–Ω–∞–µ–º, –∫–æ–≥–¥–∞ –æ–Ω–∞ –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è.
*   `is_background=False`: –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∂–¥–µ—Ç *–ø–æ–ª–Ω–æ–≥–æ* –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã. –ï—Å–ª–∏ —Ç–µ—Å—Ç—ã –¥–æ–ª–≥–∏–µ (–º–∏–Ω—É—Ç—ã), –∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å AI –ø—Ä–µ—Ä—ã–≤–∞–µ—Ç—Å—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–æ–≤—ã–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è), AI —Ç–µ—Ä—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç.

**–†–µ—à–µ–Ω–∏–µ (–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω—ã–π –†–∏—Ç—É–∞–ª):**
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –µ–¥–∏–Ω–æ–π —Ü–µ–ø–æ—á–∫–∏ –∫–æ–º–∞–Ω–¥ –≤ `run_terminal_cmd` —Å `is_background=False`, –≤–∫–ª—é—á–∞—é—â–µ–π `sleep` –¥–ª—è –æ–∂–∏–¥–∞–Ω–∏—è –∏ `cat` –¥–ª—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ –ø–æ–ª—É—á–µ–Ω–∏—è –ª–æ–≥–æ–≤.

**üßò‚Äç‚ôÇÔ∏è –†–∏—Ç—É–∞–ª (–®–∞–≥–∏):**

1.  **–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ (–ì—É—Ä—É):**
    *   –£–±–µ–¥–∏—Å—å, —á—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ñ–æ–Ω–æ–≤—ã–µ —Å–µ—Ä–≤–∏—Å—ã (`pnpm run build:watch`, `pnpm run dev:serve`, `pnpm run dev:start`) –∑–∞–ø—É—â–µ–Ω—ã –≤—Ä—É—á–Ω—É—é –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ç–µ—Ä–º–∏–Ω–∞–ª–∞—Ö (—Å–º. [`README.mdc`](mdc:README.mdc)).

2.  **–ó–∞–ø—É—Å–∫ –∏ –ü—Ä–æ–≤–µ—Ä–∫–∞ –°–±–æ—Ä–∫–∏ (AI –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç):**
    *   –í—ã–ø–æ–ª–Ω–∏ –∫–æ–º–∞–Ω–¥—É: `bash scripts/build-test.sh | cat`
    *   –ò—Å–ø–æ–ª—å–∑—É–π `run_terminal_cmd` —Å `is_background=False`.
    *   **–ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –≤—ã–≤–æ–¥:**
        *   **üî¥ –ï—Å–ª–∏ `tsc` (—Å–±–æ—Ä–∫–∞) –∑–∞–≤–µ—Ä—à–∏–ª—Å—è —Å –æ—à–∏–±–∫–æ–π (exit code != 0):**
            *   –ü—Ä–æ—á–∏—Ç–∞–π –∏ –ø–æ–π–º–∏ –æ—à–∏–±–∫—É –∏–∑ –≤—ã–≤–æ–¥–∞ –∫–æ–º–∞–Ω–¥—ã.
            *   –ò—Å–ø—Ä–∞–≤—å –æ—à–∏–±–∫—É.
            *   **–°–¢–û–ü.** –í–µ—Ä–Ω–∏—Å—å –∫ –Ω–∞—á–∞–ª—É –®–∞–≥–∞ 2.
        *   **‚úÖ –ï—Å–ª–∏ —Å–±–æ—Ä–∫–∞ (`tsc`) —É—Å–ø–µ—à–Ω–∞:** –ü–µ—Ä–µ—Ö–æ–¥–∏ –∫ –®–∞–≥—É 3.

3.  **–û–∂–∏–¥–∞–Ω–∏–µ –∏ –ü—Ä–æ–≤–µ—Ä–∫–∞ –†–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –¢–µ—Å—Ç–æ–≤ (AI –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç):**
    *   –í—ã–ø–æ–ª–Ω–∏ **–Ω–æ–≤—É—é, –æ–±—ä–µ–¥–∏–Ω–µ–Ω–Ω—É—é** –∫–æ–º–∞–Ω–¥—É:
        ```bash
        bash scripts/build-test.sh && sleep 60 && cat src/logs/e2e-test-run.log
        # –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –í—Ä–µ–º—è sleep (45 —Å–µ–∫—É–Ω–¥) –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏.
        # –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –ü—É—Ç—å –∫ –ª–æ–≥-—Ñ–∞–π–ª—É pm2 –º–æ–∂–µ—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è.
        ```
    *   –ò—Å–ø–æ–ª—å–∑—É–π `run_terminal_cmd` —Å `is_background=False`.
    *   **–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –≤–µ—Å—å –≤—ã–≤–æ–¥ –∫–æ–º–∞–Ω–¥—ã:**
        *   –ù–∞–π–¥–∏ –≤—ã–≤–æ–¥ `cat /Users/playra/.../vite-app-out.log` –≤ –∫–æ–Ω—Ü–µ.
        *   –ù–∞–π–¥–∏ –≤ –Ω–µ–º —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç Vitest (—Å—É–º–º–∞—Ä–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ—Å—Ç–æ–≤, –ø—Ä–æ–π–¥–µ–Ω–Ω—ã–µ/—É–ø–∞–≤—à–∏–µ).
        *   –û–ø—Ä–µ–¥–µ–ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç: ‚úÖ PASS –∏–ª–∏ üî¥ FAIL.
        *   **–ï—Å–ª–∏ —Ç–µ—Å—Ç—ã –Ω–µ –∑–∞–≤–µ—Ä—à–∏–ª–∏—Å—å (–Ω–µ—Ç –æ—Ç—á–µ—Ç–∞ Vitest) –∏–ª–∏ –ª–æ–≥ –Ω–µ—è—Å–µ–Ω:**
            *   –ü–æ–ø—Ä–æ–±—É–π —É–≤–µ–ª–∏—á–∏—Ç—å –≤—Ä–µ–º—è `sleep` –≤ –∫–æ–º–∞–Ω–¥–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `sleep 60`).
            *   –†–∞—Å—Å–º–æ—Ç—Ä–∏ –¥—Ä—É–≥–∏–µ –º–µ—Ç–æ–¥—ã –∞–Ω–∞–ª–∏–∑–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–æ–≤–µ—Ä–∫—É HTML –æ—Ç—á–µ—Ç–∞ Vitest, –µ—Å–ª–∏ –æ–Ω –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è —Å–∫—Ä–∏–ø—Ç–æ–º `build-test.sh`).
        *   **–ï—Å–ª–∏ —Ç–µ—Å—Ç—ã –∑–∞–≤–µ—Ä—à–∏–ª–∏—Å—å:**
            *   –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —É–ø–∞–≤—à–∏–µ —Ç–µ—Å—Ç—ã (–µ—Å–ª–∏ –µ—Å—Ç—å).
            *   –ü–µ—Ä–µ—Ö–æ–¥–∏ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –ª–æ–≥–∏—á–µ—Å–∫–æ–º—É —à–∞–≥—É (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ —Ç–µ—Å—Ç–æ–≤ –∏–ª–∏ —Å–ª–µ–¥—É—é—â–∏–π —ç—Ç–∞–ø TDD).

**–¶–µ–ª—å:** –û–±–µ—Å–ø–µ—á–∏—Ç—å –Ω–∞–¥–µ–∂–Ω—ã–π, –Ω–µ–±–ª–æ–∫–∏—Ä—É—é—â–∏–π (–¥–ª—è AI) —Å–ø–æ—Å–æ–± –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤ –∏ –ø–æ–ª—É—á–µ–Ω–∏—è –∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤, —Å–æ—Ö—Ä–∞–Ω—è—è –∫–æ–Ω—Ç–µ–∫—Å—Ç –º–µ–∂–¥—É —à–∞–≥–∞–º–∏.



*–û–º –®–∞–Ω—Ç–∏. –¢–µ—Ä–ø–µ–Ω–∏–µ –∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –º–µ—Ç–æ–¥ –≤–µ–¥—É—Ç –∫ —è—Å–Ω–æ—Å—Ç–∏.* üôè
